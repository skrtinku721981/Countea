{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ContextHandlerImpl = void 0;\nconst context_items_1 = require(\"../context-items\");\nconst bail_1 = require(\"../context-items/bail\");\nclass ContextHandlerImpl {\n  constructor(builder, chain) {\n    this.builder = builder;\n    this.chain = chain;\n  }\n  bail(opts) {\n    if (opts?.level === 'request') {\n      this.builder.setRequestBail();\n    }\n    this.builder.addItem(new bail_1.Bail());\n    return this.chain;\n  }\n  if(condition) {\n    if ('run' in condition) {\n      this.builder.addItem(new context_items_1.ChainCondition(condition));\n    } else if (typeof condition === 'function') {\n      this.builder.addItem(new context_items_1.CustomCondition(condition));\n    } else {\n      throw new Error('express-validator: condition is not a validation chain nor a function');\n    }\n    return this.chain;\n  }\n  optional(options = true) {\n    let value;\n    if (typeof options === 'boolean') {\n      value = options ? 'undefined' : false;\n    } else {\n      value = options.values ? options.values : options.checkFalsy ? 'falsy' : options.nullable ? 'null' : 'undefined';\n    }\n    this.builder.setOptional(value);\n    return this.chain;\n  }\n  hide(hiddenValue) {\n    this.builder.setHidden(true, hiddenValue);\n    return this.chain;\n  }\n}\nexports.ContextHandlerImpl = ContextHandlerImpl;","map":{"version":3,"names":["Object","defineProperty","exports","value","ContextHandlerImpl","context_items_1","require","bail_1","constructor","builder","chain","bail","opts","level","setRequestBail","addItem","Bail","if","condition","ChainCondition","CustomCondition","Error","optional","options","values","checkFalsy","nullable","setOptional","hide","hiddenValue","setHidden"],"sources":["D:/test/textutils/node_modules/express-validator/lib/chain/context-handler-impl.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ContextHandlerImpl = void 0;\nconst context_items_1 = require(\"../context-items\");\nconst bail_1 = require(\"../context-items/bail\");\nclass ContextHandlerImpl {\n    constructor(builder, chain) {\n        this.builder = builder;\n        this.chain = chain;\n    }\n    bail(opts) {\n        if (opts?.level === 'request') {\n            this.builder.setRequestBail();\n        }\n        this.builder.addItem(new bail_1.Bail());\n        return this.chain;\n    }\n    if(condition) {\n        if ('run' in condition) {\n            this.builder.addItem(new context_items_1.ChainCondition(condition));\n        }\n        else if (typeof condition === 'function') {\n            this.builder.addItem(new context_items_1.CustomCondition(condition));\n        }\n        else {\n            throw new Error('express-validator: condition is not a validation chain nor a function');\n        }\n        return this.chain;\n    }\n    optional(options = true) {\n        let value;\n        if (typeof options === 'boolean') {\n            value = options ? 'undefined' : false;\n        }\n        else {\n            value = options.values\n                ? options.values\n                : options.checkFalsy\n                    ? 'falsy'\n                    : options.nullable\n                        ? 'null'\n                        : 'undefined';\n        }\n        this.builder.setOptional(value);\n        return this.chain;\n    }\n    hide(hiddenValue) {\n        this.builder.setHidden(true, hiddenValue);\n        return this.chain;\n    }\n}\nexports.ContextHandlerImpl = ContextHandlerImpl;\n"],"mappings":"AAAA,YAAY;;AACZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7DD,OAAO,CAACE,kBAAkB,GAAG,KAAK,CAAC;AACnC,MAAMC,eAAe,GAAGC,OAAO,CAAC,kBAAkB,CAAC;AACnD,MAAMC,MAAM,GAAGD,OAAO,CAAC,uBAAuB,CAAC;AAC/C,MAAMF,kBAAkB,CAAC;EACrBI,WAAWA,CAACC,OAAO,EAAEC,KAAK,EAAE;IACxB,IAAI,CAACD,OAAO,GAAGA,OAAO;IACtB,IAAI,CAACC,KAAK,GAAGA,KAAK;EACtB;EACAC,IAAIA,CAACC,IAAI,EAAE;IACP,IAAIA,IAAI,EAAEC,KAAK,KAAK,SAAS,EAAE;MAC3B,IAAI,CAACJ,OAAO,CAACK,cAAc,CAAC,CAAC;IACjC;IACA,IAAI,CAACL,OAAO,CAACM,OAAO,CAAC,IAAIR,MAAM,CAACS,IAAI,CAAC,CAAC,CAAC;IACvC,OAAO,IAAI,CAACN,KAAK;EACrB;EACAO,EAAEA,CAACC,SAAS,EAAE;IACV,IAAI,KAAK,IAAIA,SAAS,EAAE;MACpB,IAAI,CAACT,OAAO,CAACM,OAAO,CAAC,IAAIV,eAAe,CAACc,cAAc,CAACD,SAAS,CAAC,CAAC;IACvE,CAAC,MACI,IAAI,OAAOA,SAAS,KAAK,UAAU,EAAE;MACtC,IAAI,CAACT,OAAO,CAACM,OAAO,CAAC,IAAIV,eAAe,CAACe,eAAe,CAACF,SAAS,CAAC,CAAC;IACxE,CAAC,MACI;MACD,MAAM,IAAIG,KAAK,CAAC,uEAAuE,CAAC;IAC5F;IACA,OAAO,IAAI,CAACX,KAAK;EACrB;EACAY,QAAQA,CAACC,OAAO,GAAG,IAAI,EAAE;IACrB,IAAIpB,KAAK;IACT,IAAI,OAAOoB,OAAO,KAAK,SAAS,EAAE;MAC9BpB,KAAK,GAAGoB,OAAO,GAAG,WAAW,GAAG,KAAK;IACzC,CAAC,MACI;MACDpB,KAAK,GAAGoB,OAAO,CAACC,MAAM,GAChBD,OAAO,CAACC,MAAM,GACdD,OAAO,CAACE,UAAU,GACd,OAAO,GACPF,OAAO,CAACG,QAAQ,GACZ,MAAM,GACN,WAAW;IAC7B;IACA,IAAI,CAACjB,OAAO,CAACkB,WAAW,CAACxB,KAAK,CAAC;IAC/B,OAAO,IAAI,CAACO,KAAK;EACrB;EACAkB,IAAIA,CAACC,WAAW,EAAE;IACd,IAAI,CAACpB,OAAO,CAACqB,SAAS,CAAC,IAAI,EAAED,WAAW,CAAC;IACzC,OAAO,IAAI,CAACnB,KAAK;EACrB;AACJ;AACAR,OAAO,CAACE,kBAAkB,GAAGA,kBAAkB","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}