{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.check = check;\nconst chain_1 = require(\"../chain\");\nconst context_builder_1 = require(\"../context-builder\");\nconst utils_1 = require(\"../utils\");\nfunction check(fields = '', locations = [], message) {\n  const builder = new context_builder_1.ContextBuilder().setFields(Array.isArray(fields) ? fields : [fields]).setLocations(locations).setMessage(message);\n  const runner = new chain_1.ContextRunnerImpl(builder);\n  const middleware = async (req, _res, next) => {\n    try {\n      await runner.run(req);\n      next();\n    } catch (e) {\n      next(e);\n    }\n  };\n  return Object.assign(middleware, (0, utils_1.bindAll)(runner), (0, utils_1.bindAll)(new chain_1.SanitizersImpl(builder, middleware)), (0, utils_1.bindAll)(new chain_1.ValidatorsImpl(builder, middleware)), (0, utils_1.bindAll)(new chain_1.ContextHandlerImpl(builder, middleware)), {\n    builder\n  });\n}","map":{"version":3,"names":["Object","defineProperty","exports","value","check","chain_1","require","context_builder_1","utils_1","fields","locations","message","builder","ContextBuilder","setFields","Array","isArray","setLocations","setMessage","runner","ContextRunnerImpl","middleware","req","_res","next","run","e","assign","bindAll","SanitizersImpl","ValidatorsImpl","ContextHandlerImpl"],"sources":["D:/test/textutils/node_modules/express-validator/lib/middlewares/check.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.check = check;\nconst chain_1 = require(\"../chain\");\nconst context_builder_1 = require(\"../context-builder\");\nconst utils_1 = require(\"../utils\");\nfunction check(fields = '', locations = [], message) {\n    const builder = new context_builder_1.ContextBuilder()\n        .setFields(Array.isArray(fields) ? fields : [fields])\n        .setLocations(locations)\n        .setMessage(message);\n    const runner = new chain_1.ContextRunnerImpl(builder);\n    const middleware = async (req, _res, next) => {\n        try {\n            await runner.run(req);\n            next();\n        }\n        catch (e) {\n            next(e);\n        }\n    };\n    return Object.assign(middleware, (0, utils_1.bindAll)(runner), (0, utils_1.bindAll)(new chain_1.SanitizersImpl(builder, middleware)), (0, utils_1.bindAll)(new chain_1.ValidatorsImpl(builder, middleware)), (0, utils_1.bindAll)(new chain_1.ContextHandlerImpl(builder, middleware)), { builder });\n}\n"],"mappings":"AAAA,YAAY;;AACZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7DD,OAAO,CAACE,KAAK,GAAGA,KAAK;AACrB,MAAMC,OAAO,GAAGC,OAAO,CAAC,UAAU,CAAC;AACnC,MAAMC,iBAAiB,GAAGD,OAAO,CAAC,oBAAoB,CAAC;AACvD,MAAME,OAAO,GAAGF,OAAO,CAAC,UAAU,CAAC;AACnC,SAASF,KAAKA,CAACK,MAAM,GAAG,EAAE,EAAEC,SAAS,GAAG,EAAE,EAAEC,OAAO,EAAE;EACjD,MAAMC,OAAO,GAAG,IAAIL,iBAAiB,CAACM,cAAc,CAAC,CAAC,CACjDC,SAAS,CAACC,KAAK,CAACC,OAAO,CAACP,MAAM,CAAC,GAAGA,MAAM,GAAG,CAACA,MAAM,CAAC,CAAC,CACpDQ,YAAY,CAACP,SAAS,CAAC,CACvBQ,UAAU,CAACP,OAAO,CAAC;EACxB,MAAMQ,MAAM,GAAG,IAAId,OAAO,CAACe,iBAAiB,CAACR,OAAO,CAAC;EACrD,MAAMS,UAAU,GAAG,MAAAA,CAAOC,GAAG,EAAEC,IAAI,EAAEC,IAAI,KAAK;IAC1C,IAAI;MACA,MAAML,MAAM,CAACM,GAAG,CAACH,GAAG,CAAC;MACrBE,IAAI,CAAC,CAAC;IACV,CAAC,CACD,OAAOE,CAAC,EAAE;MACNF,IAAI,CAACE,CAAC,CAAC;IACX;EACJ,CAAC;EACD,OAAO1B,MAAM,CAAC2B,MAAM,CAACN,UAAU,EAAE,CAAC,CAAC,EAAEb,OAAO,CAACoB,OAAO,EAAET,MAAM,CAAC,EAAE,CAAC,CAAC,EAAEX,OAAO,CAACoB,OAAO,EAAE,IAAIvB,OAAO,CAACwB,cAAc,CAACjB,OAAO,EAAES,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,EAAEb,OAAO,CAACoB,OAAO,EAAE,IAAIvB,OAAO,CAACyB,cAAc,CAAClB,OAAO,EAAES,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,EAAEb,OAAO,CAACoB,OAAO,EAAE,IAAIvB,OAAO,CAAC0B,kBAAkB,CAACnB,OAAO,EAAES,UAAU,CAAC,CAAC,EAAE;IAAET;EAAQ,CAAC,CAAC;AACxS","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}